<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Code Hero: Save the Internet</title>
<style>
  body {
    background-color: #0d0d0d;
    color: #33ff99;
    font-family: 'Courier New', monospace;
    margin: 0;
    padding: 20px;
  }
  #game {
    max-width: 800px;
    margin: 0 auto;
    background: rgba(0,0,0,0.8);
    border: 2px solid #33ff99;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 20px #33ff99;
  }
  h1 {
    text-align: center;
    color: #ff66cc;
    text-shadow: 0 0 10px #ff66cc;
  }
  #output {
    white-space: pre-line;
    margin-bottom: 20px;
    min-height: 200px;
  }
  input {
    width: 100%;
    padding: 10px;
    background: black;
    border: 1px solid #33ff99;
    color: #33ff99;
    font-family: 'Courier New', monospace;
    font-size: 16px;
  }
  .key {
    margin-top: 20px;
    padding: 10px;
    border-top: 1px solid #33ff99;
  }
  .key h3 {
    color: #ff66cc;
  }
</style>
</head>
<body>
<div id="game">
  <h1>ğŸ’¾ CODE HERO: SAVE THE INTERNET ğŸŒ</h1>
  <div id="output"></div>
  <input type="text" id="input" placeholder="Type your command..." autofocus />
  <div class="key">
    <h3>ğŸ•¹ï¸ Suggested Actions:</h3>
    <p><strong>look</strong> â€“ observe your surroundings<br>
    <strong>take [item]</strong> â€“ pick up something useful<br>
    <strong>go [direction]</strong> â€“ move to another area (north, south, east, west)<br>
    <strong>use [item]</strong> â€“ use an item<br>
    <strong>inventory</strong> â€“ check what you have<br>
    <strong>help</strong> â€“ get hints<br></p>
  </div>
</div>

<script>
const output = document.getElementById('output');
const input = document.getElementById('input');

let inventory = [];
let location = 'office';
let gameOver = false;

const locations = {
  office: {
    desc: "You're in your dimly lit office. Neon lights flicker outside the window. Your computer hums softly. A new email notification pops up â€” subject: 'URGENT: Save the Internet!'. Thereâ€™s a door to the west.",
    items: ['email'],
    exits: { west: 'hallway' }
  },
  hallway: {
    desc: "You step into a long hallway lined with vintage posters of 80s tech icons. You see doors labeled 'Server Room' to the north and 'Break Room' to the south. Your office is back east.",
    items: [],
    exits: { north: 'serverRoom', south: 'breakRoom', east: 'office' }
  },
  breakRoom: {
    desc: "The break room smells like burnt coffee. There's an old vending machine humming in the corner. You spot a dusty floppy disk on the counter.",
    items: ['floppy disk'],
    exits: { north: 'hallway' }
  },
  serverRoom: {
    desc: "You enter a cold, humming server room filled with blinking lights. A terminal glows in the corner with a message: 'Awaiting code input to stabilize the Internet...'.",
    items: [],
    exits: { south: 'hallway' }
  }
};

function print(text) {
  output.innerText += text + '\n\n';
  output.scrollTop = output.scrollHeight;
}

function showLocation() {
  print(locations[location].desc);
}

function handleCommand(cmd) {
  if (gameOver) return;

  const command = cmd.toLowerCase().trim();
  const [action, ...args] = command.split(' ');
  const item = args.join(' ');

  switch(action) {
    case 'look':
      showLocation();
      break;

    case 'go':
      if (locations[location].exits[item]) {
        location = locations[location].exits[item];
        showLocation();
      } else {
        print("You can't go that way.");
      }
      break;

    case 'take':
      if (locations[location].items.includes(item)) {
        inventory.push(item);
        locations[location].items = locations[location].items.filter(i => i !== item);
        print(`You take the ${item}.`);
      } else {
        print(`Thereâ€™s no ${item} here.`);
      }
      break;

    case 'inventory':
      print(inventory.length ? `You have: ${inventory.join(', ')}` : "You're not carrying anything.");
      break;

    case 'use':
      if (!inventory.includes(item)) {
        print(`You don't have a ${item}.`);
        break;
      }

      if (item === 'email') {
        print("You open the email. It reads: 'The core code has been corrupted. Find the floppy disk, then reach the server terminal and input the phrase: restore(1985)'.");
      } else if (item === 'floppy disk' && location === 'serverRoom') {
        print("You insert the floppy disk into the terminal. It asks for the final code phrase...");
      } else {
        print(`You can't use the ${item} here.`);
      }
      break;

    case 'help':
      print("Try exploring each room, picking up useful items, and using them in the right place. Maybe the email contains a hint?");
      break;

    default:
      if (command === 'restore(1985)' && location === 'serverRoom' && inventory.includes('floppy disk')) {
        print("âš¡ You type the code... the servers hum louder... the lights flash... CONNECTION RESTORED! âš¡\n\nYou saved the Internet and earned the title: 'Hero of the Digital Age'. ğŸ•¶ï¸");
        gameOver = true;
      } else {
        print("Command not recognized.");
      }
  }
}

print("Welcome to CODE HERO: SAVE THE INTERNET.\n\nType 'look' to begin your journey.");
input.addEventListener('keydown', e => {
  if (e.key === 'Enter' && input.value) {
    print('> ' + input.value);
    handleCommand(input.value);
    input.value = '';
  }
});
</script>
</body>
</html>
